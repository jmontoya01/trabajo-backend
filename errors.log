fatal: Error fatal
error: Mensaje de error
error: Error al agregar productos al carrito Error al agregar un producto {"stack":"Error: Error al agregar un producto\n    at CartRepository.addProductToCart (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:46:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:56:13)"}
error: Error al obtener el carrito cid is not defined {"stack":"ReferenceError: cid is not defined\n    at renderCarts (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:96:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el carrito cid is not defined {"stack":"ReferenceError: cid is not defined\n    at renderCarts (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:96:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el carrito cid is not defined {"stack":"ReferenceError: cid is not defined\n    at renderCarts (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:96:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar productos al carrito Error al agregar un producto {"stack":"Error: Error al agregar un producto\n    at CartRepository.addProductToCart (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:46:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:56:13)"}
error: Error al obtener el producto con el id Error al buscar el producto por id {"stack":"Error: Error al buscar el producto por id\n    at ProductRepository.getProductById (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\product.repository.js:98:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getProductById (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:31:29)"}
error: Error al agregar productos al carrito Error al agregar un producto {"stack":"Error: Error al agregar un producto\n    at CartRepository.addProductToCart (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:46:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:56:13)"}
error: Error en el login
error: Error en el login Error de credenciales {"cause":"Usuario o contraseña incorrectos, revise las credenciales","code":4,"name":"Login de usuario fallido","stack":"Login de usuario fallido: Error de credenciales\n    at CustomError.createError (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:4:23)\n    at login (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:54:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error en el login Error de credenciales {"cause":"Usuario o contraseña incorrectos, revise las credenciales","code":4,"name":"Login de usuario fallido","stack":"Login de usuario fallido: Error de credenciales\n    at CustomError.createError (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:8:23)\n    at login (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:54:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id Error al buscar el producto por id {"stack":"Error: Error al buscar el producto por id\n    at ProductRepository.getProductById (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\product.repository.js:98:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getProductById (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:31:29)"}
error: Error al obtener el producto con el id El ID enviado no es correcto {"cause":"El producto que ha solicitado no existe, ya que en nuestra base de datos\n    no tenemos registro de un producto que tenga el ID 66458c79741caac03071c135","code":6,"name":"ID Inválido de producto","stack":"ID Inválido de producto: El ID enviado no es correcto\n    at CustomError.createError (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:4:23)\n    at getProductById (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:33:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  El ID enviado no es correcto {"cause":"El producto que ha solicitado no existe, ya que en nuestra base de datos\n    no tenemos registro de un producto que tenga el ID 66458c79741caac03071c135","code":6,"name":"ID Inválido de producto","stack":"ID Inválido de producto: El ID enviado no es correcto\n    at CustomError.createError (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:4:23)\n    at getProductById (C:\\Users\\JeffMon\\Desktop\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:33:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
fatal: Error fatal
error: Mensaje de error
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc1165c2sm1074926241.28 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc1165c2sm1074926241.28 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc1165c2sm1074926241.28 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials 71dfb90a1353d-4e4f07687f1sm1073382e0c.25 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 71dfb90a1353d-4e4f07687f1sm1073382e0c.25 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 71dfb90a1353d-4e4f07687f1sm1073382e0c.25 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cbf74d25sm1066895241.1 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cbf74d25sm1066895241.1 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cbf74d25sm1066895241.1 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc164d66sm1040853241.38 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc164d66sm1040853241.38 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc164d66sm1040853241.38 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc1698bfsm1038489241.39 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc1698bfsm1038489241.39 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cc1698bfsm1038489241.39 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials 71dfb90a1353d-4e86a59352dsm271406e0c.52 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 71dfb90a1353d-4e86a59352dsm271406e0c.52 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 71dfb90a1353d-4e86a59352dsm271406e0c.52 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cbd111b9sm1063690241.0 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cbd111b9sm1063690241.0 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials a1e0cc1a2514c-804cbd111b9sm1063690241.0 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al enviar el correo electrónico:  Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials ada2fe7eead31-48a3a3645e3sm383763137.32 - gsmtp {"code":"EAUTH","command":"AUTH PLAIN","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials ada2fe7eead31-48a3a3645e3sm383763137.32 - gsmtp","responseCode":535,"stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials ada2fe7eead31-48a3a3645e3sm383763137.32 - gsmtp\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1577:34)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)"}
error: Error al intentar cambiar la contraseña Invalid status code: { error: 'El token de restablecimiento de contraseña no es valido' } {"code":"ERR_HTTP_INVALID_STATUS_CODE","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: { error: 'El token de restablecimiento de contraseña no es valido' }\n    at ServerResponse.writeHead (node:_http_server:352:11)\n    at ServerResponse.writeHead (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\on-headers\\index.js:44:26)\n    at ServerResponse.writeHead (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\on-headers\\index.js:44:26)\n    at ServerResponse._implicitHeader (node:_http_server:338:8)\n    at writetop (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express-session\\index.js:284:15)\n    at ServerResponse.end (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express-session\\index.js:351:16)\n    at ServerResponse.redirect (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:978:10)\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:122:28)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)"}
error: Error al intentar cambiar la contraseña Invalid status code: { error: 'El token de restablecimiento de contraseña no es valido' } {"code":"ERR_HTTP_INVALID_STATUS_CODE","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: { error: 'El token de restablecimiento de contraseña no es valido' }\n    at ServerResponse.writeHead (node:_http_server:352:11)\n    at ServerResponse.writeHead (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\on-headers\\index.js:44:26)\n    at ServerResponse.writeHead (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\on-headers\\index.js:44:26)\n    at ServerResponse._implicitHeader (node:_http_server:338:8)\n    at writetop (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express-session\\index.js:284:15)\n    at ServerResponse.end (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express-session\\index.js:351:16)\n    at ServerResponse.redirect (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:978:10)\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:122:28)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)"}
error: Error en el login Error de credenciales {"cause":"Usuario o contraseña incorrectos, revise las credenciales","code":4,"name":"Login de usuario fallido","stack":"Login de usuario fallido: Error de credenciales\n    at CustomError.createError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:4:23)\n    at login (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:58:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al intentar cambiar la contraseña Cannot read properties of undefined (reading 'resetToken') {"stack":"TypeError: Cannot read properties of undefined (reading 'resetToken')\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:120:49)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error al intentar cambiar la contraseña Cannot read properties of undefined (reading 'token') {"stack":"TypeError: Cannot read properties of undefined (reading 'token')\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:120:48)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error al intentar cambiar la contraseña Cannot access 'resetToken' before initialization {"stack":"ReferenceError: Cannot access 'resetToken' before initialization\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:120:32)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error al intentar cambiar la contraseña Cannot read properties of undefined (reading 'token') {"stack":"TypeError: Cannot read properties of undefined (reading 'token')\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:122:28)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error al intentar cambiar la contraseña Cannot read properties of undefined (reading 'token') {"stack":"TypeError: Cannot read properties of undefined (reading 'token')\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:120:48)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error al intentar cambiar la contraseña Cannot read properties of undefined (reading 'token') {"stack":"TypeError: Cannot read properties of undefined (reading 'token')\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:122:41)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error al intentar cambiar la contraseña Cannot read properties of undefined (reading 'token') {"stack":"TypeError: Cannot read properties of undefined (reading 'token')\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:122:47)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error al intentar cambiar la contraseña Cannot read properties of undefined (reading 'token') {"stack":"TypeError: Cannot read properties of undefined (reading 'token')\n    at resetpassword (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:122:47)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:47:12)"}
error: Error en el login Error de credenciales {"cause":"Usuario o contraseña incorrectos, revise las credenciales","code":4,"name":"Login de usuario fallido","stack":"Login de usuario fallido: Error de credenciales\n    at CustomError.createError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:4:23)\n    at login (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:58:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error en el login Error de credenciales {"cause":"Usuario o contraseña incorrectos, revise las credenciales","code":4,"name":"Login de usuario fallido","stack":"Login de usuario fallido: Error de credenciales\n    at CustomError.createError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:4:23)\n    at login (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:58:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar productos al carrito user is not defined {"stack":"ReferenceError: user is not defined\n    at addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:65:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar productos al carrito Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.location (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:924:15)\n    at ServerResponse.redirect (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:962:18)\n    at addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:70:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar productos al carrito Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.location (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:924:15)\n    at ServerResponse.redirect (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:962:18)\n    at addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:70:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al actualizar el carrito carts validation failed: products.0.quantity: Path `quantity` is required., products.0.product: Path `product` is required. {"_message":"carts validation failed","errors":{"products.0.product":{"kind":"required","message":"Path `product` is required.","name":"ValidatorError","path":"product","properties":{"message":"Path `product` is required.","path":"product","type":"required"}},"products.0.quantity":{"kind":"required","message":"Path `quantity` is required.","name":"ValidatorError","path":"quantity","properties":{"message":"Path `quantity` is required.","path":"quantity","type":"required"}}},"stack":"ValidationError: carts validation failed: products.0.quantity: Path `quantity` is required., products.0.product: Path `product` is required.\n    at Document.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:3197:32)\n    at Subdocument.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:2990:17\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: Error al actualizar los productos Error al actualizar el carrito {"stack":"Error: Error al actualizar el carrito\n    at CartRepository.updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:81:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:101:32)"}
error: Error al actualizar el carrito carts validation failed: products.0.quantity: Path `quantity` is required., products.0.product: Path `product` is required. {"_message":"carts validation failed","errors":{"products.0.product":{"kind":"required","message":"Path `product` is required.","name":"ValidatorError","path":"product","properties":{"message":"Path `product` is required.","path":"product","type":"required"}},"products.0.quantity":{"kind":"required","message":"Path `quantity` is required.","name":"ValidatorError","path":"quantity","properties":{"message":"Path `quantity` is required.","path":"quantity","type":"required"}}},"stack":"ValidationError: carts validation failed: products.0.quantity: Path `quantity` is required., products.0.product: Path `product` is required.\n    at Document.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:3197:32)\n    at Subdocument.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:2990:17\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: Error al actualizar los productos Error al actualizar el carrito {"stack":"Error: Error al actualizar el carrito\n    at CartRepository.updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:81:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:101:32)"}
error: Error al actualizar la cantidad del producto en el carrito Producto no encontrado en el carrito {"stack":"Error: Producto no encontrado en el carrito\n    at CartRepository.updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:99:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:126:32)"}
error: Error al actualizar la cantidad del producto
error: Error al actualizar la cantidad del producto en el carrito Producto no encontrado en el carrito {"stack":"Error: Producto no encontrado en el carrito\n    at CartRepository.updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:99:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:126:32)"}
error: Error al actualizar la cantidad del producto
error: Error al finalizar la compra Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at Checkout (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:176:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar producto products validation failed: owner: Path `owner` is required. {"_message":"products validation failed","errors":{"owner":{"kind":"required","message":"Path `owner` is required.","name":"ValidatorError","path":"owner","properties":{"message":"Path `owner` is required.","path":"owner","type":"required","value":""},"value":""}},"stack":"ValidationError: products validation failed: owner: Path `owner` is required.\n    at Document.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:3197:32)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:2990:17\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: Error al actualizar el producto Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: proyecto-backend.products index: code_1 dup key: { code: "15478958y" } {"$clusterTime":{"clusterTime":{"$timestamp":"7379770858488725506"},"signature":{"hash":"q7KF3oPdlQ4O7nUwzgZ+8Zpq/UQ=","keyId":{"high":1704825173,"low":5,"unsigned":false}}},"code":11000,"codeName":"DuplicateKey","keyPattern":{"code":1},"keyValue":{"code":"15478958y"},"ok":0,"operationTime":{"$timestamp":"7379770854193758228"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: proyecto-backend.products index: code_1 dup key: { code: \"15478958y\" }\n    at Connection.onMessage (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\connection.js:205:26)\n    at MessageStream.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\connection.js:64:60)\n    at MessageStream.emit (node:events:518:28)\n    at processIncomingData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:117:16)\n    at MessageStream._write (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:564:12)\n    at _write (node:internal/streams/writable:493:10)\n    at Writable.write (node:internal/streams/writable:502:10)\n    at TLSSocket.ondata (node:internal/streams/readable:1007:22)\n    at TLSSocket.emit (node:events:518:28)"}
error: Error al actualizar el producto con el id Cast to ObjectId failed for value "665647524842f9c49834088" (type string) at path "_id" for model "products" {"kind":"ObjectId","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"665647524842f9c49834088\" (type string) at path \"_id\" for model \"products\"\n    at SchemaObjectId.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4778:12)\n    at Query._castConditions (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2199:10)\n    at model.Query._findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2513:8)\n    at model.Query.exec (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4322:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProduct (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:67:29)","stringValue":"\"665647524842f9c49834088\"","value":"665647524842f9c49834088","valueType":"string"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:39:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al actualizar el producto Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: proyecto-backend.products index: code_1 dup key: { code: "15478958y" } {"$clusterTime":{"clusterTime":{"$timestamp":"7379772662374989834"},"signature":{"hash":"/YuHXOI47NzZGjj+FwNc2/Hh6as=","keyId":{"high":1704825173,"low":5,"unsigned":false}}},"code":11000,"codeName":"DuplicateKey","keyPattern":{"code":1},"keyValue":{"code":"15478958y"},"ok":0,"operationTime":{"$timestamp":"7379772662374989832"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: proyecto-backend.products index: code_1 dup key: { code: \"15478958y\" }\n    at Connection.onMessage (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\connection.js:205:26)\n    at MessageStream.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\connection.js:64:60)\n    at MessageStream.emit (node:events:518:28)\n    at processIncomingData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:117:16)\n    at MessageStream._write (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:564:12)\n    at _write (node:internal/streams/writable:493:10)\n    at Writable.write (node:internal/streams/writable:502:10)\n    at TLSSocket.ondata (node:internal/streams/readable:1007:22)\n    at TLSSocket.emit (node:events:518:28)"}
error: Error al actualizar el producto con el id Cast to ObjectId failed for value "665647524842f9c49834088" (type string) at path "_id" for model "products" {"kind":"ObjectId","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"665647524842f9c49834088\" (type string) at path \"_id\" for model \"products\"\n    at SchemaObjectId.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4778:12)\n    at Query._castConditions (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2199:10)\n    at model.Query._findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2513:8)\n    at model.Query.exec (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4322:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProduct (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:67:29)","stringValue":"\"665647524842f9c49834088\"","value":"665647524842f9c49834088","valueType":"string"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:39:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:39:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:39:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:40:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:40:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:40:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:40:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto Cast to ObjectId failed for value "666a8bf614b3f8909c3bcbb" (type string) at path "_id" for model "products" {"kind":"ObjectId","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"666a8bf614b3f8909c3bcbb\" (type string) at path \"_id\" for model \"products\"\n    at SchemaObjectId.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4778:12)\n    at Query._castConditions (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2199:10)\n    at model.Query._findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2513:8)\n    at model.Query.exec (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4322:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProduct (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:85:29)","stringValue":"\"666a8bf614b3f8909c3bcbb\"","value":"666a8bf614b3f8909c3bcbb","valueType":"string"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:40:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:40:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar productos al carrito Cast to ObjectId failed for value "3" (type string) at path "_id" for model "products" {"kind":"ObjectId","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"3\" (type string) at path \"_id\" for model \"products\"\n    at SchemaObjectId.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4778:12)\n    at Query._castConditions (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2199:10)\n    at model.Query._findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2513:8)\n    at model.Query.exec (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4322:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:57:29)","stringValue":"\"3\"","value":"3","valueType":"string"}
error: Error al actualizar el carrito carts validation failed: products.0.quantity: Path `quantity` is required., products.0.product: Path `product` is required. {"_message":"carts validation failed","errors":{"products.0.product":{"kind":"required","message":"Path `product` is required.","name":"ValidatorError","path":"product","properties":{"message":"Path `product` is required.","path":"product","type":"required"}},"products.0.quantity":{"kind":"required","message":"Path `quantity` is required.","name":"ValidatorError","path":"quantity","properties":{"message":"Path `quantity` is required.","path":"quantity","type":"required"}}},"stack":"ValidationError: carts validation failed: products.0.quantity: Path `quantity` is required., products.0.product: Path `product` is required.\n    at Document.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:3197:32)\n    at Subdocument.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:2990:17\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: Error al actualizar el carrito carts validation failed: products.0.product: Path `product` is required. {"_message":"carts validation failed","errors":{"products.0.product":{"kind":"required","message":"Path `product` is required.","name":"ValidatorError","path":"product","properties":{"message":"Path `product` is required.","path":"product","type":"required"}}},"stack":"ValidationError: carts validation failed: products.0.product: Path `product` is required.\n    at Document.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:3197:32)\n    at Subdocument.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:2990:17\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: Error al actualizar el carrito carts validation failed: products.0.product: Path `product` is required. {"_message":"carts validation failed","errors":{"products.0.product":{"kind":"required","message":"Path `product` is required.","name":"ValidatorError","path":"product","properties":{"message":"Path `product` is required.","path":"product","type":"required"}}},"stack":"ValidationError: carts validation failed: products.0.product: Path `product` is required.\n    at Document.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:3197:32)\n    at Subdocument.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:2990:17\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: Error al actualizar los productos Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:175:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:279:15)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:163:21)\n    at updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:108:46)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al traer el carrito con el id Cast to ObjectId failed for value "666a8b851002360620df7d6" (type string) at path "_id" for model "carts" {"kind":"ObjectId","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"666a8b851002360620df7d6\" (type string) at path \"_id\" for model \"carts\"\n    at SchemaObjectId.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4778:12)\n    at Query._castConditions (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2199:10)\n    at model.Query._findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2513:8)\n    at model.Query.exec (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4322:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async CartRepository.getCartById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:17:26)","stringValue":"\"666a8b851002360620df7d6\"","value":"666a8b851002360620df7d6","valueType":"string"}
error: Error al obtener el carrito El ID del carrito enviado no es correcto {"cause":"El carrito solicitado no existe, ya que en nuestra base de datos\n    no tenemos registro de un carrito que tenga el ID 666a8b851002360620df7d6 ","code":8,"name":"ID Inválido de carrito","stack":"ID Inválido de carrito: El ID del carrito enviado no es correcto\n    at CustomError.createError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\utils\\errors\\custom-error.js:4:23)\n    at getCartById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:34:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el producto con el id:  Converting circular structure to JSON
    --> starting at object with constructor 'DerivedLogger'
    |     property '_readableState' -> object with constructor 'ReadableState'
    |     property 'pipes' -> object with constructor 'Array'
    |     index 0 -> object with constructor 'Console'
    --- property 'parent' closes the circle {"stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'DerivedLogger'\n    |     property '_readableState' -> object with constructor 'ReadableState'\n    |     property 'pipes' -> object with constructor 'Array'\n    |     index 0 -> object with constructor 'Console'\n    --- property 'parent' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:1159:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:272:14)\n    at getProductById (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\products.controller.js:40:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar un producto Cannot read properties of null (reading 'equals') {"stack":"TypeError: Cannot read properties of null (reading 'equals')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:79\n    at Proxy.findIndex (<anonymous>)\n    at CartRepository.addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:73:13)"}
error: Error al agregar un producto Cannot read properties of null (reading 'equals') {"stack":"TypeError: Cannot read properties of null (reading 'equals')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:79\n    at Proxy.findIndex (<anonymous>)\n    at CartRepository.addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:73:13)"}
error: Error al agregar un producto Cannot read properties of null (reading 'equals') {"stack":"TypeError: Cannot read properties of null (reading 'equals')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:79\n    at Proxy.findIndex (<anonymous>)\n    at CartRepository.addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:73:13)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:95:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:94:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:95:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:94:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar los productos Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:175:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:279:15)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:163:21)\n    at updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:108:46)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar los productos Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:175:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:279:15)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:163:21)\n    at updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:108:46)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar los productos Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:175:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:279:15)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:163:21)\n    at updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:108:46)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar los productos Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:175:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:279:15)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:163:21)\n    at updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:108:46)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar los productos Cannot set headers after they are sent to the client {"code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:659:11)\n    at ServerResponse.header (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:795:10)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:175:12)\n    at ServerResponse.json (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:279:15)\n    at ServerResponse.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:163:21)\n    at updateProductsInCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:108:46)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar el carrito carts validation failed: products.0.product: Cast to ObjectId failed for value "666b18f4e7d19c21973ce403 " (type string) at path "product" because of "BSONError" {"_message":"carts validation failed","errors":{"products.0.product":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"666b18f4e7d19c21973ce403 \" (type string) at path \"product\" because of \"BSONError\"","name":"CastError","path":"product","reason":{},"stringValue":"\"666b18f4e7d19c21973ce403 \"","value":"666b18f4e7d19c21973ce403 ","valueType":"string"}},"stack":"ValidationError: carts validation failed: products.0.product: Cast to ObjectId failed for value \"666b18f4e7d19c21973ce403 \" (type string) at path \"product\" because of \"BSONError\"\n    at Document.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:3197:32)\n    at Subdocument.invalidate (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at EmbeddedDocument.$set (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:1456:12)\n    at EmbeddedDocument.$set (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:1111:16)\n    at EmbeddedDocument.Document (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\document.js:166:12)\n    at EmbeddedDocument.Subdocument (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\arraySubdocument.js:44:15)\n    at new EmbeddedDocument (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\documentArray.js:127:17)\n    at SchemaDocumentArray.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\documentArray.js:502:22)\n    at SchemaDocumentArray.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\documentArray.js:423:17)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al agregar un producto Cannot read properties of null (reading 'equals') {"stack":"TypeError: Cannot read properties of null (reading 'equals')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:79\n    at Proxy.findIndex (<anonymous>)\n    at CartRepository.addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:73:13)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:95:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:94:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:95:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:94:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar un producto Cannot read properties of null (reading 'equals') {"stack":"TypeError: Cannot read properties of null (reading 'equals')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:79\n    at Proxy.findIndex (<anonymous>)\n    at CartRepository.addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:73:13)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:95:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:94:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar la cantidad del producto Cast to ObjectId failed for value "cartNotFound" (type string) at path "_id" for model "carts" {"kind":"ObjectId","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"cartNotFound\" (type string) at path \"_id\" for model \"carts\"\n    at SchemaObjectId.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4778:12)\n    at Query._castConditions (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2199:10)\n    at model.Query._findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2513:8)\n    at model.Query.exec (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4322:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:120:26)","stringValue":"\"cartNotFound\"","value":"cartNotFound","valueType":"string"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar la cantidad del producto Cast to ObjectId failed for value "[object Object]" (type string) at path "_id" for model "carts" {"kind":"ObjectId","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"[object Object]\" (type string) at path \"_id\" for model \"carts\"\n    at SchemaObjectId.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4778:12)\n    at Query._castConditions (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2199:10)\n    at model.Query._findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2513:8)\n    at model.Query.exec (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:4322:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:120:26)","stringValue":"\"[object Object]\"","value":"[object Object]","valueType":"string"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar la cantidad del producto Parameter "filter" to findOne() must be an object, got "[object Object]" (type string) {"stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"[object Object]\" (type string)\n    at Query.findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2592:16)\n    at Function.findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\model.js:2334:13)\n    at updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:120:42)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:376:14)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar la cantidad del producto Parameter "filter" to findOne() must be an object, got "[object Object]" (type string) {"stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"[object Object]\" (type string)\n    at Query.findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2592:16)\n    at Function.findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\model.js:2334:13)\n    at updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:120:42)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:376:14)"}
error: Error al eliminar el producto del carrito Cannot read properties of null (reading '_id') {"stack":"TypeError: Cannot read properties of null (reading '_id')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:71\n    at Array.filter (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at CartRepository.deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:56:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async deleteProductFromCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:88:32)"}
error: Error al actualizar la cantidad del producto Parameter "filter" to findOne() must be an object, got "666d17e084bc8ee8d750af99" (type string) {"stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"666d17e084bc8ee8d750af99\" (type string)\n    at Query.findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\query.js:2592:16)\n    at Function.findOne (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\model.js:2334:13)\n    at updateProductQuantity (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:120:42)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:376:14)"}
error: Error al enviar el correo electrónico:  No recipients defined {"code":"EENVELOPE","command":"API","stack":"Error: No recipients defined\n    at SMTPConnection._formatError (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:798:19)\n    at SMTPConnection._setEnvelope (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1036:34)\n    at SMTPConnection.send (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:629:14)\n    at sendMessage (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-transport\\index.js:228:28)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-transport\\index.js:286:25\n    at SMTPConnection._actionAUTHComplete (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1591:9)\n    at SMTPConnection.<anonymous> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:554:26)\n    at SMTPConnection._processResponse (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:982:20)\n    at SMTPConnection._onData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:763:14)\n    at SMTPConnection._onSocketData (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)"}
error: Error al agregar productos al carrito Cannot read properties of null (reading 'role') {"stack":"TypeError: Cannot read properties of null (reading 'role')\n    at addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:66:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al intentar cambiar el rol uid is not defined {"stack":"ReferenceError: uid is not defined\n    at changeRolPremium (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:151:51)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)"}
error: Error al intentar cambiar el rol uid is not defined {"stack":"ReferenceError: uid is not defined\n    at changeRolPremium (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:151:51)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\router\\index.js:280:10)"}
error: Error al intentar cambiar el rol Invalid status code: {
  _id: new ObjectId('668621a4d160b3cc9f805815'),
  first_name: 'Boli',
  last_name: 'Queso',
  email: 'b@m.com',
  password: '$2b$10$mwpvoO13oD/rc5fbSR67jOieUIOIY8RAaW3UAtJrPMVZ5/yBcqXhu',
  age: 8,
  cart: new ObjectId('668621a3d160b3cc9f805813'),
  role: 'premium',
  __v: 0,
  lastLogin: 2024-07-05T20:29:48.421Z
} {"code":"ERR_HTTP_INVALID_STATUS_CODE","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: {\n  _id: new ObjectId('668621a4d160b3cc9f805815'),\n  first_name: 'Boli',\n  last_name: 'Queso',\n  email: 'b@m.com',\n  password: '$2b$10$mwpvoO13oD/rc5fbSR67jOieUIOIY8RAaW3UAtJrPMVZ5/yBcqXhu',\n  age: 8,\n  cart: new ObjectId('668621a3d160b3cc9f805813'),\n  role: 'premium',\n  __v: 0,\n  lastLogin: 2024-07-05T20:29:48.421Z\n}\n    at ServerResponse.writeHead (node:_http_server:352:11)\n    at ServerResponse.writeHead (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\on-headers\\index.js:44:26)\n    at ServerResponse.writeHead (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\on-headers\\index.js:44:26)\n    at ServerResponse._implicitHeader (node:_http_server:338:8)\n    at writetop (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express-session\\index.js:284:15)\n    at ServerResponse.end (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express-session\\index.js:351:16)\n    at ServerResponse.redirect (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\express\\lib\\response.js:987:10)\n    at changeRolPremium (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\user.controller.js:159:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar un producto Cannot read properties of null (reading 'equals') {"stack":"TypeError: Cannot read properties of null (reading 'equals')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:79\n    at Proxy.findIndex (<anonymous>)\n    at CartRepository.addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:73:13)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:93:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:92:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:93:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:92:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al agregar un producto Cannot read properties of null (reading 'equals') {"stack":"TypeError: Cannot read properties of null (reading 'equals')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:79\n    at Proxy.findIndex (<anonymous>)\n    at CartRepository.addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\repositories\\cart.repository.js:31:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async addProductToCart (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\cart.controller.js:73:13)"}
error: Error al obtener el carrito Cannot read properties of null (reading 'toObject') {"stack":"TypeError: Cannot read properties of null (reading 'toObject')\n    at F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:93:46\n    at Array.map (<anonymous>)\n    at methods.<computed> (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\node_modules\\mongoose\\lib\\types\\array\\methods\\index.js:1025:24)\n    at renderCarts (F:\\clases programacion\\programación full stack\\curso backend\\trabajos\\primera pre entrega\\src\\controllers\\views.controller.js:92:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
